<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Koshie Studios</title>
  <style>
    html,body{height:100%;margin:0}
    body{background:#000;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;display:flex;flex-direction:column;align-items:center}
    .top{width:100%;display:flex;justify-content:center;margin-top:48px}
    .logo{max-width:280px;height:auto;display:block;object-fit:contain}
    .logo-text{font-size:32px;font-weight:700;letter-spacing:.04em}
    h1{margin:40px 0 12px;font-size:18px;font-weight:700;text-transform:uppercase;letter-spacing:.16em}
    #projects-list{list-style:none;padding:0;margin:0 0 80px;width:min(800px,90vw)}
    #projects-list li{padding:10px 0;border-bottom:1px solid rgba(255,255,255,.1)}
    .btn{display:inline-block;padding:10px 16px;border:1px solid #222;border-radius:8px;background:#101010;color:#fff;text-decoration:none}
    .btn:hover{text-decoration:underline}
  </style>
</head>
<body>
  <div class="top">
    <img id="logo" src="assets/logo.png" alt="Koshie Studios" class="logo">
  </div>

  <h1>Projects</h1>
  <ul id="projects-list"></ul>

  <script>
    const PROJECTS = [{ href: "kadie-ai/kadie-ai.html", name: "Kadie AI" }];

    (function handleLogoFallback(){
      const img = document.getElementById('logo');
      img.addEventListener('error', () => {
        const div = document.createElement('div');
        div.className = 'logo-text';
        div.textContent = 'Koshie Studios';
        img.replaceWith(div);
      }, { once: true });
    })();

    function normalize(p){
      const u = new URL(p, location.href);
      let path = u.pathname;
      if (!path.endsWith(".html")){
        if (!path.endsWith("/")) path += "/";
        path += "index.html";
      }
      return path.toLowerCase();
    }
    function isRootIndex(p){ p = p.toLowerCase(); return p === "/index.html" || p === "/"; }

    const current = normalize(location.pathname);
    const list = document.getElementById("projects-list");

    PROJECTS.forEach(({ href, name }) => {
      const linkPath = normalize(href);
      if (linkPath === current) return;
      if (isRootIndex(linkPath)) return;
      const li = document.createElement("li");
      li.innerHTML = `<a class="btn" href="${href}">${name}</a>`;
      list.appendChild(li);
    });
  </script>

  <noscript>
    <ul id="projects-list">
      <li><a class="btn" href="kadie-ai/kadie-ai.html">Kadie AI</a></li>
    </ul>
  </noscript>
</body>
</html>
